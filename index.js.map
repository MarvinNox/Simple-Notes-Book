{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-tasks.js","../src/js/markup-tasks.js","../src/js/local-storage-api.js","../src/js/tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export const refs = {\n    body: document.querySelector('body'),\n    form: document.querySelector('#task-form'),\n    taskList: document.querySelector('#task-list'),\n    themeToggleBttn: document.querySelector('#themeToggle'),\n    inputTitle: document.querySelector('input[name=\"taskName\"]'),\n    inputDescr: document.querySelector('input[name=\"taskDescription\"]'),\n    LS_KEY: 'userNotes',\n    LS_THEME: 'userTheme',\n    KEY_lightTheme: 'theme-light',\n    KEY_darkTheme: 'theme-dark',\n};\n","import { refs } from './refs';\n\nexport function renderNote(obj, taskMarkup) {\n    refs.taskList.innerHTML = '';\n    refs.taskList.insertAdjacentHTML('beforeend', taskMarkup(obj));\n}","export function taskMarkup(notesArr) {\n    return notesArr.map(({ title, description }) =>\n        `<li class=\"task-list-item\">\n        <button class=\"task-list-item-btn\">Delete</button>\n        <h3>${title}</h3>\n        <p>${description}</p>\n      </li>`\n    ).join(\"\");\n};\n","import { refs } from \"./refs.js\";\n\nexport function addToLocal(obj) {\n    localStorage.setItem(refs.LS_KEY, JSON.stringify(obj));\n}\n\nexport function getFromLocal() {\n    if (localStorage.getItem(refs.LS_KEY) === null) {\n        return;\n    }\n    return JSON.parse(localStorage.getItem(refs.LS_KEY));\n}","import { refs } from \"./refs.js\";\nimport { renderNote } from './render-tasks.js';\nimport { taskMarkup } from \"./markup-tasks.js\";\nimport { getFromLocal, addToLocal } from './local-storage-api.js';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport let userNotes = getFromLocal() || [];\n\nexport function addNewNote(event) {\n    event.preventDefault();\n    const note = {\n        title: refs.inputTitle.value.trim(),\n        description: refs.inputDescr.value.trim(),\n    }\n\n    if (!note.title || !note.description) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter valid title and descr!',\n            position: 'topCenter',\n        })\n        return\n    }\n    userNotes.push(note);\n    addToLocal(userNotes);\n    refs.form.reset();\n    renderNote(userNotes, taskMarkup);\n};\n\nexport function deleteNote(event) {\n    if (event.target.tagName === \"BUTTON\") {\n        const item = event.target.closest('li');\n        userNotes = userNotes.filter(element => !(element.title === item.children[1].textContent));\n        addToLocal(userNotes);\n        renderNote(userNotes, taskMarkup);\n    }\n    return;\n};","import { refs } from \"./refs.js\";\n\nexport function themeToggle() {\n    const newTheme = refs.body.classList.contains(refs.KEY_darkTheme) ? 'light' : 'dark';\n    applyTheme(newTheme);\n};\n\nfunction applyTheme(theme) {\n    refs.body.classList.toggle(refs.KEY_darkTheme, theme === 'dark');\n    localStorage.setItem(refs.LS_THEME, theme);\n};\n\nexport function detectTheme() {\n    const savedTheme = localStorage.getItem(refs.LS_THEME)\n    if (savedTheme) {\n        applyTheme(savedTheme)\n    } else {\n        const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n        applyTheme(prefersDark ? 'dark' : 'light');\n    }\n}","import { refs } from './js/refs.js';\nimport { renderNote } from './js/render-tasks.js';\nimport { taskMarkup } from \"./js/markup-tasks.js\";\nimport { addNewNote, deleteNote, userNotes } from \"./js/tasks.js\"\nimport { themeToggle, detectTheme } from './js/theme-switcher.js';\n\ndetectTheme();\n\nrefs.form.addEventListener('submit', addNewNote);\nrefs.taskList.addEventListener('click', deleteNote);\nrefs.themeToggleBttn.addEventListener('click', themeToggle);\n\nrenderNote(userNotes, taskMarkup);\n\n\n"],"names":["refs","renderNote","obj","taskMarkup","notesArr","title","description","addToLocal","getFromLocal","userNotes","addNewNote","event","note","iziToast","deleteNote","item","element","themeToggle","newTheme","applyTheme","theme","detectTheme","savedTheme","prefersDark"],"mappings":"svBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,MAAM,EACnC,KAAM,SAAS,cAAc,YAAY,EACzC,SAAU,SAAS,cAAc,YAAY,EAC7C,gBAAiB,SAAS,cAAc,cAAc,EACtD,WAAY,SAAS,cAAc,wBAAwB,EAC3D,WAAY,SAAS,cAAc,+BAA+B,EAClE,OAAQ,YACR,SAAU,YACV,eAAgB,cAChB,cAAe,YACnB,ECTO,SAASC,EAAWC,EAAKC,EAAY,CACxCH,EAAK,SAAS,UAAY,GAC1BA,EAAK,SAAS,mBAAmB,YAAaG,EAAWD,CAAG,CAAC,CACjE,CCLO,SAASC,EAAWC,EAAU,CACjC,OAAOA,EAAS,IAAI,CAAC,CAAE,MAAAC,EAAO,YAAAC,CAAa,IACvC;AAAA;AAAA,cAEMD,CAAK;AAAA,aACNC,CAAW;AAAA,YAExB,EAAM,KAAK,EAAE,CACb,CCNO,SAASC,EAAWL,EAAK,CAC5B,aAAa,QAAQF,EAAK,OAAQ,KAAK,UAAUE,CAAG,CAAC,CACzD,CAEO,SAASM,GAAe,CAC3B,GAAI,aAAa,QAAQR,EAAK,MAAM,IAAM,KAG1C,OAAO,KAAK,MAAM,aAAa,QAAQA,EAAK,MAAM,CAAC,CACvD,CCHO,IAAIS,EAAYD,EAAc,GAAI,GAElC,SAASE,EAAWC,EAAO,CAC9BA,EAAM,eAAc,EACpB,MAAMC,EAAO,CACT,MAAOZ,EAAK,WAAW,MAAM,KAAM,EACnC,YAAaA,EAAK,WAAW,MAAM,KAAM,CAC5C,EAED,GAAI,CAACY,EAAK,OAAS,CAACA,EAAK,YAAa,CAClCC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sCACT,SAAU,WACtB,CAAS,EACD,MACH,CACDJ,EAAU,KAAKG,CAAI,EACnBL,EAAWE,CAAS,EACpBT,EAAK,KAAK,QACVC,EAAWQ,EAAWN,CAAU,CACpC,CAEO,SAASW,EAAWH,EAAO,CAC9B,GAAIA,EAAM,OAAO,UAAY,SAAU,CACnC,MAAMI,EAAOJ,EAAM,OAAO,QAAQ,IAAI,EACtCF,EAAYA,EAAU,OAAOO,GAAaA,EAAQ,QAAUD,EAAK,SAAS,CAAC,EAAE,WAAY,EACzFR,EAAWE,CAAS,EACpBR,EAAWQ,EAAWN,CAAU,CACnC,CAEL,CCrCO,SAASc,GAAc,CAC1B,MAAMC,EAAWlB,EAAK,KAAK,UAAU,SAASA,EAAK,aAAa,EAAI,QAAU,OAC9EmB,EAAWD,CAAQ,CACvB,CAEA,SAASC,EAAWC,EAAO,CACvBpB,EAAK,KAAK,UAAU,OAAOA,EAAK,cAAeoB,IAAU,MAAM,EAC/D,aAAa,QAAQpB,EAAK,SAAUoB,CAAK,CAC7C,CAEO,SAASC,GAAc,CAC1B,MAAMC,EAAa,aAAa,QAAQtB,EAAK,QAAQ,EACrD,GAAIsB,EACAH,EAAWG,CAAU,MAClB,CACH,MAAMC,EAAc,OAAO,WAAW,8BAA8B,EAAE,QACtEJ,EAAWI,EAAc,OAAS,OAAO,CAC5C,CACL,CCdAF,IAEArB,EAAK,KAAK,iBAAiB,SAAUU,CAAU,EAC/CV,EAAK,SAAS,iBAAiB,QAASc,CAAU,EAClDd,EAAK,gBAAgB,iBAAiB,QAASiB,CAAW,EAE1DhB,EAAWQ,EAAWN,CAAU"}