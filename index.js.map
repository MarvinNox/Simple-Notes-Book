{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-tasks.js","../src/js/markup-tasks.js","../src/js/local-storage-api.js","../src/js/tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export const refs = {\n    body: document.querySelector('body'),\n    form: document.querySelector('#task-form'),\n    taskList: document.querySelector('#task-list'),\n    themeToggleBttn: document.querySelector('#themeToggle'),\n    inputTitle: document.querySelector('input[name=\"taskName\"]'),\n    inputDescr: document.querySelector('input[name=\"taskDescription\"]'),\n    LS_KEY: 'userNotes',\n    LS_THEME: 'userTheme',\n    KEY_lightTheme: 'theme-light',\n    KEY_darkTheme: 'theme-dark',\n};\n","import { refs } from './refs';\n\nexport function renderNote(obj, taskMarkup) {\n    refs.taskList.innerHTML = '';\n    refs.taskList.insertAdjacentHTML('beforeend', taskMarkup(obj));\n}","export function taskMarkup(notesArr) {\n  return notesArr.map(({ id, title, description }) =>\n    `<li class=\"task-list-item\" id=\"${id}\">\n        <button class=\"task-list-item-btn\">Delete</button>\n        <h3>${title}</h3>\n        <p>${description}</p>\n      </li>`\n  ).join(\"\");\n};\n","import { refs } from \"./refs.js\";\n\nexport function addToLocal(obj) {\n    localStorage.setItem(refs.LS_KEY, JSON.stringify(obj));\n}\n\nexport function getFromLocal() {\n    if (localStorage.getItem(refs.LS_KEY) === null) {\n        return;\n    }\n    return JSON.parse(localStorage.getItem(refs.LS_KEY));\n}","import { refs } from \"./refs.js\";\nimport { renderNote } from './render-tasks.js';\nimport { taskMarkup } from \"./markup-tasks.js\";\nimport { getFromLocal, addToLocal } from './local-storage-api.js';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport let userNotes = getFromLocal() || [];\nexport function addNewNote(event) {\n    event.preventDefault();\n    const note = {\n        id: generateId(),\n        title: refs.inputTitle.value.trim(),\n        description: refs.inputDescr.value.trim(),\n    }\n    if (!note.title || !note.description) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter valid title and descr!',\n            position: 'topCenter',\n        })\n        return\n    }\n    userNotes.push(note);\n    addToLocal(userNotes);\n    refs.form.reset();\n    renderNote(userNotes, taskMarkup);\n};\n\nexport function deleteNote(event) {\n    if (event.target.tagName === \"BUTTON\") {\n        const itemToDel = event.target.closest('li');\n        userNotes = userNotes.filter(element => !(element.id === itemToDel.id));\n        addToLocal(userNotes);\n        renderNote(userNotes, taskMarkup);\n    }\n    return;\n};\n\nfunction generateId() {\n    return '4xxx-yxxx'.replace(/[xy]/g, function (c) {\n        const r = Math.random() * 16 | 0;\n        const v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n};\n","import { refs } from \"./refs.js\";\n\nexport function themeToggle() {\n    const newTheme = refs.body.classList.contains(refs.KEY_darkTheme) ? 'light' : 'dark';\n    applyTheme(newTheme);\n};\n\nfunction applyTheme(theme) {\n    refs.body.classList.toggle(refs.KEY_darkTheme, theme === 'dark');\n    localStorage.setItem(refs.LS_THEME, theme);\n};\n\nexport function detectTheme() {\n    const savedTheme = localStorage.getItem(refs.LS_THEME)\n    if (savedTheme) {\n        applyTheme(savedTheme)\n    } else {\n        const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n        applyTheme(prefersDark ? 'dark' : 'light');\n    }\n}","import { refs } from './js/refs.js';\nimport { renderNote } from './js/render-tasks.js';\nimport { taskMarkup } from \"./js/markup-tasks.js\";\nimport { addNewNote, deleteNote, userNotes } from \"./js/tasks.js\"\nimport { themeToggle, detectTheme } from './js/theme-switcher.js';\n\ndetectTheme();\n\nrefs.form.addEventListener('submit', addNewNote);\nrefs.taskList.addEventListener('click', deleteNote);\nrefs.themeToggleBttn.addEventListener('click', themeToggle);\n\nrenderNote(userNotes, taskMarkup);\n\n\n"],"names":["refs","renderNote","obj","taskMarkup","notesArr","id","title","description","addToLocal","getFromLocal","userNotes","addNewNote","event","note","generateId","iziToast","deleteNote","itemToDel","element","c","r","themeToggle","newTheme","applyTheme","theme","detectTheme","savedTheme","prefersDark"],"mappings":"svBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,MAAM,EACnC,KAAM,SAAS,cAAc,YAAY,EACzC,SAAU,SAAS,cAAc,YAAY,EAC7C,gBAAiB,SAAS,cAAc,cAAc,EACtD,WAAY,SAAS,cAAc,wBAAwB,EAC3D,WAAY,SAAS,cAAc,+BAA+B,EAClE,OAAQ,YACR,SAAU,YACV,eAAgB,cAChB,cAAe,YACnB,ECTO,SAASC,EAAWC,EAAKC,EAAY,CACxCH,EAAK,SAAS,UAAY,GAC1BA,EAAK,SAAS,mBAAmB,YAAaG,EAAWD,CAAG,CAAC,CACjE,CCLO,SAASC,EAAWC,EAAU,CACnC,OAAOA,EAAS,IAAI,CAAC,CAAE,GAAAC,EAAI,MAAAC,EAAO,YAAAC,CAAa,IAC7C,kCAAkCF,CAAE;AAAA;AAAA,cAE1BC,CAAK;AAAA,aACNC,CAAW;AAAA,YAExB,EAAI,KAAK,EAAE,CACX,CCNO,SAASC,EAAWN,EAAK,CAC5B,aAAa,QAAQF,EAAK,OAAQ,KAAK,UAAUE,CAAG,CAAC,CACzD,CAEO,SAASO,GAAe,CAC3B,GAAI,aAAa,QAAQT,EAAK,MAAM,IAAM,KAG1C,OAAO,KAAK,MAAM,aAAa,QAAQA,EAAK,MAAM,CAAC,CACvD,CCHO,IAAIU,EAAYD,EAAc,GAAI,GAClC,SAASE,EAAWC,EAAO,CAC9BA,EAAM,eAAc,EACpB,MAAMC,EAAO,CACT,GAAIC,EAAY,EAChB,MAAOd,EAAK,WAAW,MAAM,KAAM,EACnC,YAAaA,EAAK,WAAW,MAAM,KAAM,CAC5C,EACD,GAAI,CAACa,EAAK,OAAS,CAACA,EAAK,YAAa,CAClCE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sCACT,SAAU,WACtB,CAAS,EACD,MACH,CACDL,EAAU,KAAKG,CAAI,EACnBL,EAAWE,CAAS,EACpBV,EAAK,KAAK,QACVC,EAAWS,EAAWP,CAAU,CACpC,CAEO,SAASa,EAAWJ,EAAO,CAC9B,GAAIA,EAAM,OAAO,UAAY,SAAU,CACnC,MAAMK,EAAYL,EAAM,OAAO,QAAQ,IAAI,EAC3CF,EAAYA,EAAU,OAAOQ,GAAaA,EAAQ,KAAOD,EAAU,EAAG,EACtET,EAAWE,CAAS,EACpBT,EAAWS,EAAWP,CAAU,CACnC,CAEL,CAEA,SAASW,GAAa,CAClB,MAAO,YAAY,QAAQ,QAAS,SAAUK,EAAG,CAC7C,MAAMC,EAAI,KAAK,OAAM,EAAK,GAAK,EAE/B,OADUD,IAAM,IAAMC,EAAKA,EAAI,EAAM,GAC5B,SAAS,EAAE,CAC5B,CAAK,CACL,CC5CO,SAASC,GAAc,CAC1B,MAAMC,EAAWtB,EAAK,KAAK,UAAU,SAASA,EAAK,aAAa,EAAI,QAAU,OAC9EuB,EAAWD,CAAQ,CACvB,CAEA,SAASC,EAAWC,EAAO,CACvBxB,EAAK,KAAK,UAAU,OAAOA,EAAK,cAAewB,IAAU,MAAM,EAC/D,aAAa,QAAQxB,EAAK,SAAUwB,CAAK,CAC7C,CAEO,SAASC,GAAc,CAC1B,MAAMC,EAAa,aAAa,QAAQ1B,EAAK,QAAQ,EACrD,GAAI0B,EACAH,EAAWG,CAAU,MAClB,CACH,MAAMC,EAAc,OAAO,WAAW,8BAA8B,EAAE,QACtEJ,EAAWI,EAAc,OAAS,OAAO,CAC5C,CACL,CCdAF,IAEAzB,EAAK,KAAK,iBAAiB,SAAUW,CAAU,EAC/CX,EAAK,SAAS,iBAAiB,QAASgB,CAAU,EAClDhB,EAAK,gBAAgB,iBAAiB,QAASqB,CAAW,EAE1DpB,EAAWS,EAAWP,CAAU"}